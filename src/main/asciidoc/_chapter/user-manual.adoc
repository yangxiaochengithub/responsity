ifndef::imagesdir[:imagesdir: ../../resources/images/]
:toc:
== 使用手册

=== Before you begin
首先参考Get Started章节,将本系统部署完毕。 +
然后需要注册一个本系统的用户，创建自己想要管理的应用（可以多个），便可选择刚刚创建的应用进行管理。
[TIP]
====
目前默认本系统第一个注册的用户拥有 `管理员权限`，后续注册用户如需对 `已创建过` 的应用进行管理，请登录第一个注册的用户来为需要应用管理权限的应用进行 `绑定应用`。
操作方法：点击左侧侧边栏 `管理员` -> `用户管理` -> 找到对应用户，点击 `绑定应用` 按钮对该用户授权应用。
====

=== 发布 Android 版本
要发布一个安卓版本,可参考以下说明:

[NOTE]
====
.步骤:
. <<添加渠道>>
. <<创建Android版本>>
. <<上传APK包>>
. <<上架APK包>>
====

[[添加渠道]]
==== 添加渠道
如果您想发布一个安卓版本，你首先需要有一个“`渠道`”，添加渠道的方法见 <<添加一个渠道>>。

[[创建Android版本]]
==== 创建 Android 版本
点开左侧菜单 `版本管理` 选择 `Android 版本管理` 点击 `添加 Android 版本按钮` 。
按照页面操作即可创建一个安卓版本。
创建好的版本 `默认为下架状态`。

image::android-1.png[]

TIP: `更新类型` 选项的详细解释可以参考<<版本更新类型说明>>

[[上传APK包]]
==== 上传 APK 包
刚创建成功的安卓版本是没有APK包的，你需要去添加上传APK包。
点击 `包管理` 按钮，进入APK包管理界面，点击 `添加 APK 包` 按钮，添加APK包。
渠道码可以填入官方渠道码 `official` 或已经添加好的渠道码。之后完成上传，APK包就添加成功了。
上传好的APK包 `默认为下架状态`。

image::android-2.png[]

[[上架APK包]]
==== 上架 APK 包
image::android-3.png[]
如果需要将安卓版本或对应的APK包上架，那么点击上下架开关
，输入要上架的版本号，通过校验即可上架。
注意把要上架的 `APK 包开启上架`。

=== 发布 IOS 版本
[NOTE]
====
.步骤:
. <<添加IOS版本>>
. <<上架IOS版本>>
====

[[添加IOS版本]]
==== 添加 IOS 版本
点开左侧菜单栏 `版本管理` 选择 `iOS 版本管理` 点击 `添加 iOS 版本` 按钮，即可打开添加页面。
默认为新建的IOS版本为 `未上架状态`。

image::ios-1.png[]

TIP: `更新类型` 选项的详细解释可以参考<<版本更新类型说明>>

[[上架IOS版本]]
==== 上架 IOS 版本
可以通过打开对应版本的IOS版本开关，按提示进行校验，即可将该版本上架。


=== 渠道管理

==== 渠道是什么?

这里的渠道指的是你可以通过什么途径来下载我们发布的APP。

渠道分为 `官方渠道` 和 `非官方渠道`。

一个应用 `默认` 有一个 `官方渠道`，这个官方渠道指的是我们对应的APP的官网的APP下载处，拿“泰然金融”APP举例，泰然金融的官方渠道就是指泰然金融官网的APP下载处。

官方渠道的渠道码为 `official`。

[[添加一个渠道]]
==== 添加一个渠道
点开左侧菜单栏 `版本管理` -> `渠道管理` -> `添加渠道`，即可添加新的渠道。


=== RN 包管理

==== 添加 RN 包
点开 `RN 管理` 选择 `RN 包管理` 点击 `添加 RN 包` 按钮，按页面显示输入即可添加。

image::rn-1.png[]

[TIP]
====
.部分选项说明
- `模块名称:` 所填的内容应该为字母大小写和下划线。
- `通用昵称:` 可以为中文。
- `RN包资源地址:` 上传完RN包后自动填写。
- `状态:`
  默认为关闭状态，如果需要上线，可通过编辑修改状态为“`线上开启`”
====

=== RN 路由管理

==== 添加 RN 路由
点开 `RN 管理` 选择 `RN 路由管理` 点击 `添加 RN 路由` 按钮，按页面操作即可添加。

image::router-1.png[]

[TIP]
====
- RN 路由的 `适用终端可以多选`。
- `被拦截URL和目标URL` 即，你想让访问URL_A的人，不让他不访问URL_A，而让其跳转到URL_B，则URL_A为被拦截URL，URL_B为目标URL。
- `版本区间` 根据勾选的适用终端来填写。
- `状态：` `默认状态为关闭状态`，有上线需要可以通过编辑为 `线上开启` 来修改状态。
====


=== 自定义接口

==== 添加自定义接口
使用者可以通过添加自定义接口来获取自己需要的接口信息。
点开左侧菜单栏 `自定义接口` -> `接口设置` -> `添加自定义接口`，在弹窗内填入需要的内容，即可完成添加。

image::capi-1.png[]

TIP: 自定义接口的 `默认状态为关闭状态`，如需线上使用，请通过编辑修改为 `线上开启`。


[[版本更新类型说明]]
=== 版本更新类型说明

.更新类型:
- <<强制更新>>
- <<一般更新>>
- <<静默更新>>
- <<可忽略更新>>
- <<静默可忽略更新>>

==== 类型说明
. [[强制更新]]强制更新 +
`顾名思义，弹出更新后就必须更新，否则无法进行任何操作，退出应用再进来依然是这样。`

. [[一般更新]]一般更新 +
`每次APP启动都会弹出更新提示，但是更新对话框可以点击关闭，然后用户可以继续使用。 +
用户下次再次启动APP，更新对话框依然弹出来提示用户更新，用户依然可以关闭继续使用。`

. [[静默更新]]静默更新 +
`APP检测到更新信息后，判断如果是WI-FI情况下，会在后台下载好Apk文件，下次用户再启动APP的时候会提示用户直接安装新版APP。 +
用户可以关闭更新提示框继续使用，但是下次再打开依然会提示用户安装新版APP。`

. [[可忽略更新]]可忽略更新 +
`顾名思义，用户点击忽略后，不在对该版本进行提示，直到下一次版本更新才会重新提示版本更新。`

. [[静默可忽略更新]]静默可忽略更新 +
`检测到新版本后先下载，下载完成之后弹更新对话框，随后逻辑同可忽略更新。`

[TIP]
====
对于 IOS AppStore 的更新来说：静默更新、可忽略更新、静默可忽略更新都 *只弹一次* 提示更新的对话框。
====

=== 管理员模块

有管理权限的用户在登录后，可以在左侧侧边栏看到 `管理员` 菜单。

目前管理员有以下三种权限：

. `应用管理：` 编辑创建删除应用；添加钉钉群机器人，方便接收应用动态
. `用户管理：` 给用户修改昵称，为用户绑定一个他可以进行管理的应用。
. `操作日志：` 可以查看用户对各种资源的 `增删改` 的操作记录。